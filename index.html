<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV Vision Studio</title>
    <link rel="stylesheet" href="style.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <div class="app-container">
        <!-- Sidebar Navigation -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <div class="logo">
                    <i class="fas fa-eye"></i>
                    <span>CV Studio</span>
                </div>
            </div>
            <nav class="sidebar-nav">
                <button class="nav-item active" data-module="dashboard">
                    <i class="fas fa-home"></i>
                    <span>Dashboard</span>
                </button>
                <button class="nav-item" data-module="object-detection">
                    <i class="fas fa-search"></i>
                    <span>Object Detection</span>
                </button>
                <button class="nav-item" data-module="face-detection">
                    <i class="fas fa-user"></i>
                    <span>Face Detection</span>
                </button>
                <button class="nav-item" data-module="pose-estimation">
                    <i class="fas fa-running"></i>
                    <span>Pose Estimation</span>
                </button>
                <button class="nav-item" data-module="image-filters">
                    <i class="fas fa-magic"></i>
                    <span>Image Filters</span>
                </button>
                <button class="nav-item" data-module="live-camera">
                    <i class="fas fa-video"></i>
                    <span>Live Camera</span>
                </button>
                <button class="nav-item" data-module="batch-processing">
                    <i class="fas fa-layer-group"></i>
                    <span>Batch Processing</span>
                </button>
            </nav>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Header -->
            <header class="header">
                <h1 class="header-title">CV Vision Studio</h1>
                <div class="header-controls">
                    <button class="btn btn--secondary" id="settingsBtn">
                        <i class="fas fa-cog"></i>
                    </button>
                    <div class="status-indicator" id="statusIndicator">
                        <span class="status status--success">Ready</span>
                    </div>
                </div>
            </header>

            <!-- Dashboard Module -->
            <div class="module-content active" id="dashboard">
                <div class="dashboard-grid">
                    <div class="welcome-section card">
                        <h2>Welcome to CV Vision Studio</h2>
                        <p>A comprehensive computer vision platform for real-time image processing, object detection, face analysis, and more.</p>
                        <div class="quick-actions">
                            <button class="btn btn--primary" data-quick="object-detection">Try Object Detection</button>
                            <button class="btn btn--primary" data-quick="live-camera">Start Camera</button>
                        </div>
                    </div>
                    <div class="stats-grid">
                        <div class="stat-card card">
                            <div class="stat-icon">
                                <i class="fas fa-image"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="imagesProcessed">0</h3>
                                <p>Images Processed</p>
                            </div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-icon">
                                <i class="fas fa-brain"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="modelsLoaded">3</h3>
                                <p>Models Available</p>
                            </div>
                        </div>
                        <div class="stat-card card">
                            <div class="stat-icon">
                                <i class="fas fa-video"></i>
                            </div>
                            <div class="stat-info">
                                <h3 id="cameraStatus">Inactive</h3>
                                <p>Camera Status</p>
                            </div>
                        </div>
                    </div>
                    <div class="recent-activity card">
                        <h3>Recent Activity</h3>
                        <ul id="recentActivityList">
                            <li>Welcome to CV Vision Studio!</li>
                        </ul>
                    </div>
                </div>
            </div>

            <!-- Object Detection Module -->
            <div class="module-content" id="object-detection">
                <div class="module-header">
                    <h2>Object Detection</h2>
                    <p>Detect and classify objects in images using COCO-SSD model</p>
                </div>
                <div class="module-grid">
                    <div class="controls-panel card">
                        <h3>Controls</h3>
                        <div class="form-group">
                            <label class="form-label">Confidence Threshold</label>
                            <input type="range" id="confidenceSlider" min="0.1" max="1" step="0.05" value="0.5" class="form-control">
                            <span id="confidenceValue">0.5</span>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Max Detections</label>
                            <input type="number" id="maxDetections" min="1" max="50" value="20" class="form-control">
                        </div>
                        <div class="form-group">
                            <button class="btn btn--primary" id="enableWebcamOD">Enable Webcam</button>
                            <button class="btn btn--secondary" id="downloadResult" style="display: none;">Download Result</button>
                        </div>
                    </div>
                    <div class="processing-area">
                        <div class="upload-zone" id="uploadZoneOD">
                            <i class="fas fa-cloud-upload-alt"></i>
                            <p>Drag & drop an image or click to upload</p>
                            <input type="file" id="imageUploadOD" accept="image/*" hidden>
                        </div>
                        <div class="canvas-container" id="canvasContainerOD" style="display: none;">
                            <canvas id="canvasOD"></canvas>
                            <video id="videoOD" autoplay playsinline style="display: none;"></video>
                        </div>
                        <div class="results-panel card" id="resultsPanelOD" style="display: none;">
                            <h3>Detection Results</h3>
                            <div id="detectionResults"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Face Detection Module -->
            <div class="module-content" id="face-detection">
                <div class="module-header">
                    <h2>Face Detection</h2>
                    <p>Detect faces and analyze facial features</p>
                </div>
                <div class="module-grid">
                    <div class="controls-panel card">
                        <h3>Controls</h3>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="showLandmarks"> Show Landmarks
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="flipHorizontal"> Flip Horizontal
                            </label>
                        </div>
                        <div class="form-group">
                            <button class="btn btn--primary" id="enableWebcamFD">Enable Webcam</button>
                        </div>
                    </div>
                    <div class="processing-area">
                        <div class="upload-zone" id="uploadZoneFD">
                            <i class="fas fa-user-plus"></i>
                            <p>Upload an image for face detection</p>
                            <input type="file" id="imageUploadFD" accept="image/*" hidden>
                        </div>
                        <div class="canvas-container" id="canvasContainerFD" style="display: none;">
                            <canvas id="canvasFD"></canvas>
                            <video id="videoFD" autoplay playsinline style="display: none;"></video>
                        </div>
                        <div class="results-panel card" id="resultsPanelFD" style="display: none;">
                            <h3>Face Analysis</h3>
                            <div id="faceResults"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Pose Estimation Module -->
            <div class="module-content" id="pose-estimation">
                <div class="module-header">
                    <h2>Pose Estimation</h2>
                    <p>Real-time human pose detection with 33 body landmarks</p>
                </div>
                <div class="module-grid">
                    <div class="controls-panel card">
                        <h3>Controls</h3>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="showSkeleton" checked> Show Skeleton
                            </label>
                        </div>
                        <div class="form-group">
                            <label class="form-label">
                                <input type="checkbox" id="showLandmarksPose"> Show Landmarks
                            </label>
                        </div>
                        <div class="form-group">
                            <button class="btn btn--primary" id="enableWebcamPose">Enable Webcam</button>
                        </div>
                    </div>
                    <div class="processing-area">
                        <div class="upload-zone" id="uploadZonePose">
                            <i class="fas fa-running"></i>
                            <p>Upload an image or use webcam for pose detection</p>
                            <input type="file" id="imageUploadPose" accept="image/*" hidden>
                        </div>
                        <div class="canvas-container" id="canvasContainerPose" style="display: none;">
                            <canvas id="canvasPose"></canvas>
                            <video id="videoPose" autoplay playsinline style="display: none;"></video>
                        </div>
                        <div class="results-panel card" id="resultsPanelPose" style="display: none;">
                            <h3>Pose Analysis</h3>
                            <div id="poseResults"></div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Image Filters Module -->
            <div class="module-content" id="image-filters">
                <div class="module-header">
                    <h2>Image Filters</h2>
                    <p>Apply various filters and effects to your images</p>
                </div>
                <div class="module-grid">
                    <div class="controls-panel card">
                        <h3>Filters</h3>
                        <div class="filter-gallery">
                            <button class="filter-btn" data-filter="original">Original</button>
                            <button class="filter-btn" data-filter="grayscale">Grayscale</button>
                            <button class="filter-btn" data-filter="sepia">Sepia</button>
                            <button class="filter-btn" data-filter="blur">Blur</button>
                            <button class="filter-btn" data-filter="sharpen">Sharpen</button>
                            <button class="filter-btn" data-filter="edge">Edge Detection</button>
                            <button class="filter-btn" data-filter="emboss">Emboss</button>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Filter Intensity</label>
                            <input type="range" id="filterIntensity" min="0" max="100" value="100" class="form-control">
                            <span id="intensityValue">100%</span>
                        </div>
                    </div>
                    <div class="processing-area">
                        <div class="upload-zone" id="uploadZoneFilters">
                            <i class="fas fa-palette"></i>
                            <p>Upload an image to apply filters</p>
                            <input type="file" id="imageUploadFilters" accept="image/*" hidden>
                        </div>
                        <div class="image-comparison" id="imageComparison" style="display: none;">
                            <div class="before-after">
                                <div class="image-panel">
                                    <h4>Original</h4>
                                    <canvas id="originalCanvas"></canvas>
                                </div>
                                <div class="image-panel">
                                    <h4>Filtered</h4>
                                    <canvas id="filteredCanvas"></canvas>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Live Camera Module -->
            <div class="module-content" id="live-camera">
                <div class="module-header">
                    <h2>Live Camera</h2>
                    <p>Real-time computer vision with multiple features</p>
                </div>
                <div class="live-camera-container">
                    <div class="camera-controls">
                        <button class="btn btn--primary" id="startLiveCamera">Start Camera</button>
                        <button class="btn btn--secondary" id="stopLiveCamera" style="display: none;">Stop Camera</button>
                        <button class="btn btn--secondary" id="takeScreenshot" style="display: none;">Screenshot</button>
                        <div class="feature-toggles">
                            <label><input type="checkbox" id="liveObjectDetection"> Object Detection</label>
                            <label><input type="checkbox" id="liveFaceDetection"> Face Detection</label>
                            <label><input type="checkbox" id="livePoseEstimation"> Pose Estimation</label>
                        </div>
                    </div>
                    <div class="camera-view" id="cameraView" style="display: none;">
                        <canvas id="liveCanvas"></canvas>
                        <video id="liveVideo" autoplay playsinline style="display: none;"></video>
                        <div class="fps-counter" id="fpsCounter">FPS: 0</div>
                    </div>
                </div>
            </div>

            <!-- Batch Processing Module -->
            <div class="module-content" id="batch-processing">
                <div class="module-header">
                    <h2>Batch Processing</h2>
                    <p>Process multiple images simultaneously</p>
                </div>
                <div class="module-grid">
                    <div class="controls-panel card">
                        <h3>Batch Operations</h3>
                        <div class="form-group">
                            <label class="form-label">Operation Type</label>
                            <select id="batchOperation" class="form-control">
                                <option value="object-detection">Object Detection</option>
                                <option value="face-detection">Face Detection</option>
                                <option value="grayscale">Grayscale Filter</option>
                                <option value="sepia">Sepia Filter</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <button class="btn btn--primary" id="startBatchProcessing">Start Processing</button>
                            <button class="btn btn--secondary" id="downloadBatchResults" style="display: none;">Download All</button>
                        </div>
                    </div>
                    <div class="processing-area">
                        <div class="upload-zone" id="uploadZoneBatch">
                            <i class="fas fa-images"></i>
                            <p>Upload multiple images for batch processing</p>
                            <input type="file" id="batchUpload" accept="image/*" multiple hidden>
                        </div>
                        <div class="batch-queue" id="batchQueue" style="display: none;">
                            <h3>Processing Queue</h3>
                            <div class="progress-bar">
                                <div class="progress-fill" id="batchProgress"></div>
                            </div>
                            <div id="batchItems"></div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- Settings Modal -->
    <div class="modal hidden" id="settingsModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>Settings</h3>
                <button class="modal-close" id="closeSettings">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label class="form-label">Camera Resolution</label>
                    <select id="cameraResolution" class="form-control">
                        <option value="640x480">640x480</option>
                        <option value="1280x720">1280x720</option>
                        <option value="1920x1080">1920x1080</option>
                    </select>
                </div>
                <div class="form-group">
                    <label class="form-label">Performance Mode</label>
                    <select id="performanceMode" class="form-control">
                        <option value="balanced">Balanced</option>
                        <option value="speed">Speed Optimized</option>
                        <option value="quality">Quality Optimized</option>
                    </select>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn--secondary" id="closeSettingsBtn">Cancel</button>
                <button class="btn btn--primary" id="saveSettings">Save Settings</button>
            </div>
        </div>
    </div>

    <!-- Loading Spinner -->
    <div class="loading-spinner hidden" id="loadingSpinner">
        <div class="spinner"></div>
        <p>Loading model...</p>
    </div>

    <!-- Toast Notifications -->
    <div class="toast-container" id="toastContainer"></div>

    <!-- Scripts -->
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd"></script>
    <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/blazeface"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/control_utils/control_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/drawing_utils/drawing_utils.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@mediapipe/pose/pose.js"></script>
    <script src="app.js"></script>
</body>
</html>